# 9.2 File Quick Reference

> **What Each File in the Project Does**

This reference document provides a quick overview of every important file in the project.

---

## Table of Contents

1. [Root Directory](#root-directory)
2. [app/ Directory](#app-directory)
3. [tests/ Directory](#tests-directory)
4. [Configuration Files](#configuration-files)
5. [Documentation](#documentation)

---

## Root Directory

```
flaskwithpsql/
├── run.py                    # Application entry point
├── config.py                 # Configuration classes
├── db_manage.py              # Database management CLI
├── requirements.txt          # Python dependencies
├── pyproject.toml            # Python project configuration
├── Makefile                  # Task automation
│
├── Dockerfile                # Docker build instructions
├── docker-compose.yml        # Docker orchestration (dev)
├── docker-compose.prod.yml   # Docker orchestration (prod)
├── .dockerignore             # Files to exclude from Docker
│
├── .env                      # Environment variables (local)
├── .env.example              # Environment template
├── .gitignore                # Git ignore rules
├── .editorconfig             # Editor settings
├── .pre-commit-config.yaml   # Pre-commit hooks config
│
├── README.md                 # Project documentation
├── CONTRIBUTING.md           # Contribution guidelines
├── CHANGELOG.md              # Version history
├── LICENSE                   # License file
└── SECURITY.md               # Security policy
```

### Key Files Explained

| File               | Purpose                                  |
| ------------------ | ---------------------------------------- |
| `run.py`           | Entry point - creates and starts the app |
| `config.py`        | Configuration for different environments |
| `db_manage.py`     | Database utilities (init, seed, reset)   |
| `requirements.txt` | All Python packages needed               |
| `pyproject.toml`   | Python project metadata and tool configs |
| `Makefile`         | Shortcuts for common commands            |

---

## app/ Directory

### Overview

```
app/
├── __init__.py               # App factory (create_app)
│
├── models/                   # Database models (ORM)
│   ├── __init__.py
│   ├── base.py               # Base model with common fields
│   └── user.py               # User model
│
├── schemas/                  # Pydantic validation schemas
│   ├── __init__.py
│   └── user.py               # User input/output schemas
│
├── services/                 # Business logic layer
│   ├── __init__.py
│   └── user_service.py       # User CRUD operations
│
├── routes/                   # API endpoints
│   ├── __init__.py
│   └── v1/                   # API version 1
│       ├── __init__.py
│       ├── main.py           # Health check, root routes
│       ├── users.py          # User endpoints
│       └── auth.py           # Authentication endpoints
│
├── auth/                     # Authentication/Authorization
│   ├── __init__.py
│   └── jwt.py                # JWT configuration
│
├── rbac/                     # Role-Based Access Control
│   ├── __init__.py
│   ├── decorators.py         # @require_permission, etc.
│   ├── exceptions.py         # RBAC-specific exceptions
│   └── models.py             # Role, Permission models
│
├── utils/                    # Utility functions
│   ├── __init__.py
│   ├── responses.py          # Standardized API responses
│   ├── error_handlers.py     # Global error handlers
│   ├── logging_config.py     # Logging configuration
│   └── rate_limiter.py       # Rate limiting config
│
└── templates/                # HTML templates (if any)
    └── index.html            # Landing page
```

### app/ Files Explained

| File/Directory   | Purpose                                |
| ---------------- | -------------------------------------- |
| `__init__.py`    | App factory, extension initialization  |
| `models/`        | SQLAlchemy ORM models                  |
| `models/base.py` | Shared model fields (timestamps, etc.) |
| `models/user.py` | User table definition                  |
| `schemas/`       | Pydantic request/response schemas      |
| `services/`      | Business logic (CRUD, validation)      |
| `routes/`        | HTTP endpoint definitions              |
| `auth/`          | JWT token handling                     |
| `rbac/`          | Permissions and roles                  |
| `utils/`         | Helper functions and utilities         |

---

## tests/ Directory

```
tests/
├── __init__.py
├── conftest.py               # Shared test fixtures
│
├── test_models/              # Model unit tests
│   ├── __init__.py
│   └── test_user.py
│
├── test_services/            # Service integration tests
│   ├── __init__.py
│   └── test_user_service.py
│
└── test_routes/              # API endpoint tests
    ├── __init__.py
    ├── test_main.py
    └── test_users.py
```

### tests/ Files Explained

| File/Directory   | Purpose                         |
| ---------------- | ------------------------------- |
| `conftest.py`    | Fixtures available to all tests |
| `test_models/`   | Unit tests for models           |
| `test_services/` | Integration tests for services  |
| `test_routes/`   | API/E2E tests for routes        |

---

## Configuration Files

### Python/Project

| File               | Purpose                              |
| ------------------ | ------------------------------------ |
| `pyproject.toml`   | Python project config, tool settings |
| `requirements.txt` | Package dependencies                 |
| `config.py`        | Flask configuration classes          |

### Docker

| File                      | Purpose                           |
| ------------------------- | --------------------------------- |
| `Dockerfile`              | Multi-stage build instructions    |
| `docker-compose.yml`      | Development orchestration         |
| `docker-compose.prod.yml` | Production overrides              |
| `.dockerignore`           | Files excluded from build context |

### Environment

| File           | Purpose                                  |
| -------------- | ---------------------------------------- |
| `.env`         | Local environment variables (not in git) |
| `.env.example` | Template for environment variables       |

### Code Quality

| File                      | Purpose                        |
| ------------------------- | ------------------------------ |
| `.pre-commit-config.yaml` | Pre-commit hooks configuration |
| `.editorconfig`           | Editor formatting settings     |
| `.gitignore`              | Files to exclude from git      |

### GitHub

| File/Directory             | Purpose           |
| -------------------------- | ----------------- |
| `.github/workflows/ci.yml` | CI/CD pipeline    |
| `CONTRIBUTING.md`          | How to contribute |
| `SECURITY.md`              | Security policy   |

---

## Documentation

```
docs/                         # Technical documentation
├── JWT_AUTHENTICATION.md     # JWT implementation details
├── SERVICES_LAYER.md         # Service pattern explanation
├── STANDARDIZED_API_RESPONSES.md # Response format docs
├── LOGGING_SYSTEM.md         # Logging configuration
└── ... (more docs)

repo_docs/                    # Learning documentation
├── _index.md                 # Master index
├── 00_start_here/            # Getting started
├── 01_python_basics/         # Python fundamentals
├── 02_flask_fundamentals/    # Flask core concepts
├── 03_database/              # PostgreSQL & SQLAlchemy
├── 04_api_design/            # REST API design
├── 05_authentication/        # Auth & JWT
├── 06_architecture/          # Clean architecture
├── 07_devops/                # Docker, CI/CD
├── 08_testing/               # Testing strategies
└── 09_reference/             # Quick references
```

---

## File Purposes by Category

### Core Application Files

| File              | What It Does                         |
| ----------------- | ------------------------------------ |
| `run.py`          | Starts the Flask application         |
| `config.py`       | Environment-specific settings        |
| `app/__init__.py` | Creates and configures the Flask app |

### Data Layer

| File              | What It Does                   |
| ----------------- | ------------------------------ |
| `models/base.py`  | Common fields for all models   |
| `models/user.py`  | User table schema              |
| `schemas/user.py` | Input validation for user data |

### Business Logic

| File                       | What It Does                 |
| -------------------------- | ---------------------------- |
| `services/user_service.py` | User CRUD and authentication |

### API Layer

| File                 | What It Does                 |
| -------------------- | ---------------------------- |
| `routes/v1/users.py` | User API endpoints           |
| `routes/v1/auth.py`  | Login, logout, token refresh |
| `routes/v1/main.py`  | Health check, root endpoint  |

### Security

| File                 | What It Does                   |
| -------------------- | ------------------------------ |
| `auth/jwt.py`        | JWT token configuration        |
| `rbac/decorators.py` | Permission checking decorators |

### Utilities

| File                      | What It Does                     |
| ------------------------- | -------------------------------- |
| `utils/responses.py`      | Standardized API response format |
| `utils/error_handlers.py` | Global exception handling        |
| `utils/logging_config.py` | Logging setup                    |

---

## Quick Lookup

### "Where do I...?"

| Task                     | File Location                        |
| ------------------------ | ------------------------------------ |
| Add a new model          | `app/models/new_model.py`            |
| Add validation schema    | `app/schemas/new_schema.py`          |
| Add business logic       | `app/services/new_service.py`        |
| Add API endpoint         | `app/routes/v1/new_routes.py`        |
| Add environment variable | `.env` and `config.py`               |
| Add Python dependency    | `requirements.txt`                   |
| Add pre-commit hook      | `.pre-commit-config.yaml`            |
| Add new test             | `tests/test_*/test_new.py`           |
| Modify Docker setup      | `Dockerfile` or `docker-compose.yml` |

---

> **Related Documentation:**
>
> -   [Architecture Overview](../06_architecture/6.1_architecture_overview.md)
> -   [Project Setup](../00_start_here/0.2_project_setup.md)
