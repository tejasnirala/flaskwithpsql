# ğŸ“ Folder Structure Explained

> **Every Folder and File in This Repository**

---

## ğŸ—‚ï¸ Top-Level Structure

```
flaskwithpsql/
â”‚
â”œâ”€â”€ ğŸ“ app/                    # Main application code
â”œâ”€â”€ ğŸ“ tests/                  # Test suite
â”œâ”€â”€ ğŸ“ docs/                   # Original documentation
â”œâ”€â”€ ğŸ“ repo_docs/              # Detailed learning docs (you're reading this!)
â”œâ”€â”€ ğŸ“ migrations/             # Database migrations
â”œâ”€â”€ ğŸ“ docker/                 # Docker-related files
â”œâ”€â”€ ğŸ“ .github/                # GitHub Actions workflows
â”œâ”€â”€ ğŸ“ venv/                   # Python virtual environment (like node_modules)
â”œâ”€â”€ ğŸ“ logs/                   # Log files (gitignored)
â”‚
â”œâ”€â”€ ğŸ“„ run.py                  # Application entry point
â”œâ”€â”€ ğŸ“„ config.py               # Configuration classes
â”œâ”€â”€ ğŸ“„ db_manage.py            # Database management CLI
â”œâ”€â”€ ğŸ“„ requirements.txt        # Python dependencies
â”œâ”€â”€ ğŸ“„ pyproject.toml          # Modern Python project config
â”‚
â”œâ”€â”€ ğŸ“„ Dockerfile              # Docker image definition
â”œâ”€â”€ ğŸ“„ docker-compose.yml      # Development environment
â”œâ”€â”€ ğŸ“„ docker-compose.prod.yml # Production overrides
â”‚
â”œâ”€â”€ ğŸ“„ Makefile                # Convenience commands
â”œâ”€â”€ ğŸ“„ .pre-commit-config.yaml # Pre-commit hooks
â”œâ”€â”€ ğŸ“„ .editorconfig           # Editor settings
â”œâ”€â”€ ğŸ“„ .gitignore              # Git ignore patterns
â”œâ”€â”€ ğŸ“„ .dockerignore           # Docker ignore patterns
â”œâ”€â”€ ğŸ“„ .env                    # Environment variables (gitignored)
â”œâ”€â”€ ğŸ“„ .env.example            # Example environment file
â”‚
â”œâ”€â”€ ğŸ“„ README.md               # Project readme
â”œâ”€â”€ ğŸ“„ CHANGELOG.md            # Version history
â”œâ”€â”€ ğŸ“„ CONTRIBUTING.md         # Contribution guide
â”œâ”€â”€ ğŸ“„ SECURITY.md             # Security policy
â””â”€â”€ ğŸ“„ LICENSE                 # MIT License
```

---

## ğŸ“ The `app/` Folder (Main Application)

This is where all your application code lives.

```
app/
â”‚
â”œâ”€â”€ ğŸ“„ __init__.py             # Application factory (create_app)
â”œâ”€â”€ ğŸ“„ version.py              # Version number
â”‚
â”œâ”€â”€ ğŸ“ auth/                   # Authentication module
â”‚   â””â”€â”€ ğŸ“„ __init__.py         # JWT configuration & helpers (NOT routes)
â”‚
â”œâ”€â”€ ğŸ“ models/                 # Database models
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py         # Model exports
â”‚   â”œâ”€â”€ ğŸ“„ base.py             # Base model class
â”‚   â””â”€â”€ ğŸ“„ user.py             # User model
â”‚
â”œâ”€â”€ ğŸ“ routes/                 # ALL API endpoints (versioned)
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py         # Route exports & version hub
â”‚   â”œâ”€â”€ ğŸ“„ web.py              # Web interface routes (/, /health-dashboard)
â”‚   â””â”€â”€ ğŸ“ v1/                 # API Version 1
â”‚       â”œâ”€â”€ ğŸ“„ __init__.py     # Parent blueprint for /api/v1
â”‚       â”œâ”€â”€ ğŸ“„ auth.py         # /api/v1/auth/* (login, logout, etc.)
â”‚       â”œâ”€â”€ ğŸ“„ main.py         # /api/v1/ and /api/v1/health
â”‚       â””â”€â”€ ğŸ“„ users.py        # /api/v1/users/* CRUD routes
â”‚
â”œâ”€â”€ ğŸ“ schemas/                # Pydantic validation schemas
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py         # Schema exports
â”‚   â”œâ”€â”€ ğŸ“„ base.py             # Base schema class
â”‚   â”œâ”€â”€ ğŸ“„ user.py             # User schemas
â”‚   â”œâ”€â”€ ğŸ“„ utils.py            # Validation utilities
â”‚   â””â”€â”€ ğŸ“„ validators.py       # Shared validators
â”‚
â”œâ”€â”€ ğŸ“ services/               # Business logic layer
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py         # Service exports
â”‚   â”œâ”€â”€ ğŸ“„ auth_service.py     # Authentication operations
â”‚   â””â”€â”€ ğŸ“„ user_service.py     # User operations
â”‚
â”œâ”€â”€ ğŸ“ utils/                  # Utility modules
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py         # Utils exports
â”‚   â”œâ”€â”€ ğŸ“„ error_handlers.py   # Global error handling
â”‚   â”œâ”€â”€ ğŸ“„ logging_config.py   # Logging setup
â”‚   â”œâ”€â”€ ğŸ“„ rate_limiter.py     # Rate limiting config
â”‚   â””â”€â”€ ğŸ“„ responses.py        # Response helpers
â”‚
â”œâ”€â”€ ğŸ“ static/                 # Static assets (CSS, JS, images)
â”‚
â””â”€â”€ ğŸ“ templates/              # Jinja2 HTML templates
    â”œâ”€â”€ ğŸ“„ index.html          # Landing page
    â”œâ”€â”€ ğŸ“„ health.html         # Health dashboard
    â””â”€â”€ ğŸ“„ test.html           # Test template
```

### ğŸ†š Express.js Comparison

| Flask (app/)  | Express.js                    |
| ------------- | ----------------------------- |
| `__init__.py` | `app.js`                      |
| `models/`     | `models/`                     |
| `routes/v1/`  | `routes/v1/` (nested routers) |
| `schemas/`    | `validators/` or `schemas/`   |
| `services/`   | `services/`                   |
| `utils/`      | `utils/` or `helpers/`        |
| `templates/`  | `views/` (if using EJS/Pug)   |

---

## ğŸ”€ API Versioning Structure

The project uses **URL-based API versioning** with parent blueprints:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API VERSIONING PATTERN                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   app/auth/                                                      â”‚
â”‚   â””â”€â”€ __init__.py          # JWT config ONLY (shared across     â”‚
â”‚                              versions) - NOT routes!             â”‚
â”‚                                                                  â”‚
â”‚   app/routes/               # ALL routes live here               â”‚
â”‚   â”œâ”€â”€ __init__.py          # Exports api_v1 parent blueprint    â”‚
â”‚   â”œâ”€â”€ web.py               # Non-versioned web routes (/, etc.) â”‚
â”‚   â””â”€â”€ v1/                  # API Version 1                       â”‚
â”‚       â”œâ”€â”€ __init__.py      # Creates api_v1 with /api/v1 prefix â”‚
â”‚       â”œâ”€â”€ auth.py          # â†’ /api/v1/auth/* (login, etc.)     â”‚
â”‚       â”œâ”€â”€ main.py          # â†’ /api/v1/health                   â”‚
â”‚       â””â”€â”€ users.py         # â†’ /api/v1/users/*                  â”‚
â”‚                                                                  â”‚
â”‚   This is similar to Express.js nested routers:                  â”‚
â”‚   const v1Router = express.Router();                             â”‚
â”‚   v1Router.use('/users', usersRouter);                           â”‚
â”‚   v1Router.use('/auth', authRouter);                             â”‚
â”‚   app.use('/api/v1', v1Router);  // Version defined ONCE!        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ The `tests/` Folder

```
tests/
â”‚
â”œâ”€â”€ ğŸ“„ __init__.py             # Makes it a Python package
â”œâ”€â”€ ğŸ“„ conftest.py             # Pytest fixtures (setup)
â”‚
â”œâ”€â”€ ğŸ“ test_models/            # Model unit tests
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â””â”€â”€ ğŸ“„ test_user.py
â”‚
â”œâ”€â”€ ğŸ“ test_routes/            # API integration tests
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”œâ”€â”€ ğŸ“„ test_main.py
â”‚   â””â”€â”€ ğŸ“„ test_users.py
â”‚
â””â”€â”€ ğŸ“ test_services/          # Service unit tests
    â”œâ”€â”€ ğŸ“„ __init__.py
    â””â”€â”€ ğŸ“„ test_user_service.py
```

---

## ğŸ“ The `migrations/` Folder

Created and managed by Flask-Migrate (Alembic).

```
migrations/
â”‚
â”œâ”€â”€ ğŸ“„ README                  # Migration folder readme
â”œâ”€â”€ ğŸ“„ alembic.ini             # Alembic configuration
â”œâ”€â”€ ğŸ“„ env.py                  # Migration environment
â”œâ”€â”€ ğŸ“„ script.py.mako          # Migration template
â”‚
â””â”€â”€ ğŸ“ versions/               # Migration files
    â””â”€â”€ ğŸ“„ b6c582ddf3ee_add_user_table.py
```

**âš ï¸ Don't manually edit files here unless you know what you're doing!**

---

## ğŸ“„ Root Configuration Files

### `run.py` - Entry Point

```python
# This is what you run: python run.py
from app import create_app

app = create_app()

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=5500, debug=True)
```

**ğŸ†š Express equivalent:** `node server.js`

---

### `config.py` - Configuration Classes

Contains multiple configuration classes:

-   `Config` - Base configuration
-   `DevelopmentConfig` - Local development
-   `TestingConfig` - For pytest
-   `ProductionConfig` - Production settings

**ğŸ†š Express equivalent:** Environment-based config or `dotenv`

---

### `db_manage.py` - Database CLI

Custom script for database operations:

-   `python db_manage.py init` - Initialize migrations
-   `python db_manage.py migrate` - Create migration
-   `python db_manage.py upgrade` - Apply migrations
-   `python db_manage.py seed` - Seed sample data
-   `python db_manage.py reset` - Reset database

---

### `requirements.txt` - Dependencies

```
Flask==3.0.0
Flask-SQLAlchemy==3.1.1
Flask-Migrate==4.0.5
...
```

**ğŸ†š Express equivalent:** `package.json` dependencies

---

### `pyproject.toml` - Project Configuration

Modern Python project configuration:

-   Project metadata
-   Build system
-   Tool configurations (pytest, black, isort, mypy)

**ğŸ†š Express equivalent:** `package.json` + `tsconfig.json` + `.eslintrc`

---

### `.env` and `.env.example`

```env
# .env.example (safe to commit)
FLASK_ENV=development
SECRET_KEY=your-secret-key-here
DATABASE_URL=postgresql://user:pass@localhost:5432/dbname
```

**Same as Express!** Just use `python-dotenv` instead of `dotenv`.

---

## ğŸ“ The `.github/` Folder

GitHub Actions CI/CD workflows.

```
.github/
â””â”€â”€ ğŸ“ workflows/
    â”œâ”€â”€ ğŸ“„ ci.yml               # Main CI pipeline
    â””â”€â”€ ğŸ“„ dependency-check.yml # Weekly dependency updates
```

---

## ğŸ“ The `docker/` Folder

```
docker/
â””â”€â”€ ğŸ“„ init-db.sql             # Database initialization script
```

---

## ğŸ“„ Understanding `__init__.py`

In Python, `__init__.py` files make directories importable as packages.

```
app/
â”œâ”€â”€ __init__.py          # Makes 'app' importable
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py      # Makes 'app.models' importable
â”‚   â””â”€â”€ user.py          # Contains User class
```

This allows:

```python
from app.models import User
from app.models.user import User  # Same thing
```

**ğŸ†š Express equivalent:** `index.js` that re-exports from a folder.

---

## ğŸ” File Quick Reference

| File                    | Purpose           | When to Edit              |
| ----------------------- | ----------------- | ------------------------- |
| `run.py`                | Start the app     | Rarely                    |
| `config.py`             | App configuration | Add new settings          |
| `app/__init__.py`       | App factory       | Add extensions/blueprints |
| `app/models/*.py`       | Database models   | Add/modify tables         |
| `app/routes/v1/*.py`    | API v1 endpoints  | Add/modify v1 endpoints   |
| `app/routes/v1/auth.py` | Auth endpoints    | Modify authentication     |
| `app/routes/web.py`     | Web page routes   | Add/modify web pages      |
| `app/schemas/*.py`      | Validation        | Add/modify validation     |
| `app/services/*.py`     | Business logic    | Add/modify logic          |
| `requirements.txt`      | Dependencies      | Add packages              |
| `.env`                  | Secrets           | Configure locally         |

---

## ğŸ“Š File Count by Type

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             FILE BREAKDOWN                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Python files (.py):        ~45                      â”‚
â”‚  Markdown files (.md):      ~35                      â”‚
â”‚  HTML templates:            ~3                       â”‚
â”‚  YAML files (.yml/.yaml):   ~5                       â”‚
â”‚  Config files:              ~10                      â”‚
â”‚  Other:                     ~5                       â”‚
â”‚                                                      â”‚
â”‚  Total:                     ~100 files               â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”œ Next Steps

Now you know where everything is. Let's map Express.js concepts to Flask.

**Next: [0.4_express_to_flask.md](./0.4_express_to_flask.md)** - Detailed Express â†’ Flask translation guide.
