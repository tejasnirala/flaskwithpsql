# ‚ö° Quick Start Guide

> **Get the Application Running in 5 Minutes**

---

## üìã Prerequisites

Make sure you have:

-   ‚úÖ Python 3.9 or higher
-   ‚úÖ PostgreSQL 12 or higher
-   ‚úÖ Git

Check versions:

```bash
python3 --version    # Python 3.9+
psql --version       # PostgreSQL 12+
git --version        # Any recent version
```

---

## üöÄ Option 1: Local Development (Recommended for Learning)

### Step 1: Clone and Enter Directory

```bash
cd /path/to/your/project
# You should already be in flaskwithpsql/
```

### Step 2: Create Virtual Environment

```bash
# Create virtual environment
python3 -m venv venv

# Activate it
source venv/bin/activate    # Mac/Linux
# venv\Scripts\activate     # Windows
```

You should see `(venv)` in your terminal prompt.

**üÜö Node.js equivalent:** This is like having a local `node_modules/`.

### Step 3: Install Dependencies

```bash
pip install -r requirements.txt
```

### Step 4: Set Up Environment Variables

```bash
# Copy example env file
cp .env.example .env

# Edit .env with your PostgreSQL credentials
```

Your `.env` should look like:

```env
FLASK_ENV=development
SECRET_KEY=your-super-secret-key-change-this
DATABASE_URL=postgresql://username:password@localhost:5432/flaskwithpsql
```

### Step 5: Create the Database

```bash
# In PostgreSQL
psql -U postgres

# Create database
CREATE DATABASE flaskwithpsql;

# Exit psql
\q
```

### Step 6: Run Migrations

```bash
# Initialize migrations (if not done)
python db_manage.py init

# Apply migrations
python db_manage.py upgrade

# (Optional) Seed sample data
python db_manage.py seed
```

### Step 7: Start the Server

```bash
python run.py
```

You should see:

```
 * Running on http://0.0.0.0:5500
 * Restarting with stat
 * Debugger is active!
```

### Step 8: Test It!

Open your browser or use curl:

```bash
# Health check (API)
curl http://localhost:5500/api/v1/health

# Or visit landing page in browser
open http://localhost:5500

# Should return JSON with status: "healthy"
```

**üéâ You're running!**

---

## üê≥ Option 2: Docker (Faster Setup)

### Step 1: Start Services

```bash
docker-compose up -d
```

This starts:

-   Flask app on port 5500
-   PostgreSQL on port 5432
-   Redis on port 6379 (for rate limiting)
-   pgAdmin on port 5050 (optional)

### Step 2: Test It!

```bash
curl http://localhost:5500/api/v1/health
```

**That's it!** Docker handles everything.

### Useful Docker Commands

```bash
# View logs
docker-compose logs -f flask

# Stop services
docker-compose down

# Rebuild after changes
docker-compose up --build

# Access Flask container shell
docker-compose exec flask sh
```

---

## üìç Key URLs

| URL                                    | Description             |
| -------------------------------------- | ----------------------- |
| http://localhost:5500                  | Landing page (HTML)     |
| http://localhost:5500/health-dashboard | Health dashboard (HTML) |
| http://localhost:5500/api/v1/health    | Health check API (JSON) |
| http://localhost:5500/openapi/swagger  | Swagger UI              |
| http://localhost:5500/openapi/redoc    | ReDoc UI                |
| http://localhost:5050                  | pgAdmin (Docker only)   |

---

## üß™ Quick API Test

Let's test the API with a few requests:

### 1. Check Health

```bash
curl http://localhost:5500/api/v1/health
```

### 2. Register a User

```bash
curl -X POST http://localhost:5500/api/v1/users/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "johndoe",
    "email": "john@example.com",
    "password": "SecurePass123!",
    "first_name": "John",
    "last_name": "Doe"
  }'
```

### 3. Login

```bash
curl -X POST http://localhost:5500/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "john@example.com",
    "password": "SecurePass123!"
  }'
```

### 4. Get Current User (with token)

```bash
# Replace <token> with the access_token from login response
curl http://localhost:5500/api/v1/auth/me \
  -H "Authorization: Bearer <token>"
```

### 5. Get All Users

```bash
curl http://localhost:5500/api/v1/users/
```

---

## üõ†Ô∏è Using the Makefile

We have a Makefile with shortcuts:

```bash
# Install dependencies
make install

# Run the server
make run

# Run tests
make test

# Format code
make format

# Run all linters
make lint

# Full check (format + lint + test)
make check

# Database operations
make db-setup      # Full setup
make db-upgrade    # Apply migrations
make db-seed       # Seed data
make db-reset      # Reset database

# Docker
make docker-up     # Start services
make docker-down   # Stop services
make docker-logs   # View logs
```

---

## üîß Development Workflow

### Daily Workflow

```bash
# 1. Activate virtual environment
source venv/bin/activate

# 2. Pull latest changes
git pull

# 3. Install any new dependencies
pip install -r requirements.txt

# 4. Apply any new migrations
python db_manage.py upgrade

# 5. Start the server
python run.py
```

### Before Committing

```bash
# Format and lint
make check

# Or manually
black app/
isort app/
flake8 app/
```

Pre-commit hooks will also run automatically on `git commit`.

---

## ‚ùå Common Issues

### Issue: "ModuleNotFoundError: No module named 'flask'"

**Solution:** Activate virtual environment: `source venv/bin/activate`

### Issue: "Connection refused" to database

**Solution:** Make sure PostgreSQL is running:

```bash
# Mac
brew services start postgresql

# Linux
sudo systemctl start postgresql
```

### Issue: "Permission denied" for database

**Solution:** Check your DATABASE_URL in `.env`

### Issue: Port 5500 already in use

**Solution:** Kill the process or change port in `run.py`

---

## üìä Verify Everything Works

Run the test suite:

```bash
make test

# Or
pytest
```

All tests should pass! ‚úÖ

---

## üéâ You're All Set!

You now have a running Flask application. Here's what to explore next:

1. **Browse the API** - Open http://localhost:5500/openapi/swagger
2. **Check the code** - Start with `app/__init__.py`
3. **Read the docs** - Continue to `01_python_basics/`

---

## üîú Next Steps

You're ready to dive into the code! Start learning Python concepts.

**Next: [../01_python_basics/1.1_python_for_js_devs.md](../01_python_basics/1.1_python_for_js_devs.md)** - Python syntax for JavaScript developers.
